# QUILL COMPREHENSIVE FEATURE TEST
# Testing ALL major language features at once

# Import required game module functions (v1.0.2+)
from game import add_item, has_item, remove_item, wait, save_game

say "================================================================"
say "           QUILL COMPREHENSIVE FEATURE TEST"
say "================================================================"
say ""

# ===== TEST 1: VARIABLES AND OUTPUT =====
say "=== TEST 1: Variables and Output ==="
set hero_name = "TestHero"
set location = "Test Chamber"
set health = 100
set score = 0
say "Strings: " + hero_name + " at " + location
say "Numbers: HP=" + str(health) + ", Score=" + str(score)
say ">>> PASS: Variables"
say ""

# ===== TEST 2: ARITHMETIC =====
say "=== TEST 2: Arithmetic Operations ==="
set a = 10
set b = 3
say "10 + 3 = " + str(a + b)
say "10 - 3 = " + str(a - b)
say "10 * 3 = " + str(a * b)
say "10 / 3 = " + str(a / b)
say ">>> PASS: Arithmetic"
say ""

# ===== TEST 3: COMPARISONS =====
say "=== TEST 3: Comparisons ==="
set x = 5
set y = 5
set z = 3

if x == y then
    say ">>> PASS: Equals (5 == 5)"
end

if z < x then
    say ">>> PASS: Less than (3 < 5)"
end

if x > z then
    say ">>> PASS: Greater than (5 > 3)"
end

if x != 10 then
    say ">>> PASS: Not equals (5 != 10)"
end
say ""

# ===== TEST 4: CONDITIONALS =====
say "=== TEST 4: If/Else ==="
set status = "healthy"

if status == "healthy" then
    say ">>> PASS: If statement"
else
    say "FAIL: Else should not run"
end

set energy = 25
if energy > 50 then
    say "FAIL: Wrong branch"
end

if energy > 20 then
    if energy <= 50 then
        say ">>> PASS: Conditional logic works"
    end
end
say ""

# ===== TEST 5: LOOPS =====
say "=== TEST 5: Loops ==="
for i in range(1, 4) do
    say "  Iteration " + str(i)
end
say ">>> PASS: For loop"
say ""

# ===== TEST 6: RANDOM =====
say "=== TEST 6: Random Numbers ==="
set dice = randint(1, 6)
say "Dice roll: " + str(dice)
set coin = randint(0, 1)
if coin == 0 then
    say "Coin: Heads"
else
    say "Coin: Tails"
end
say ">>> PASS: Random"
say ""

# ===== TEST 7: INVENTORY =====
say "=== TEST 7: Inventory ==="
add_item("sword")
add_item("shield")
if has_item("sword") then
    say ">>> PASS: Inventory add/check"
end
remove_item("shield")
if not has_item("shield") then
    say ">>> PASS: Inventory remove"
end
say ""

# ===== TEST 8: TIMER =====
say "=== TEST 8: Timer ==="
say "Waiting 1 second..."
wait(1)
say ">>> PASS: Wait function"
say ""

# ===== TEST 9: FUNCTIONS =====
say "=== TEST 9: Functions ==="

function greet()
    say "Hello from function!"
end

greet()
say ">>> PASS: Basic function"

function add_nums(n1, n2)
    set result = n1 + n2
    say str(n1) + " + " + str(n2) + " = " + str(result)
end

add_nums(5, 7)
say ">>> PASS: Function with parameters"
say ""

# ===== TEST 10: SAVE/LOAD =====
say "=== TEST 10: Save/Load ==="
set test_data = 9999
save_game("comp_test_save")
say ">>> PASS: Save function"
say ""

# ===== FINAL REPORT =====
say "================================================================"
say "         ALL TESTS PASSED SUCCESSFULLY!"
say "================================================================"
say ""
say "10 / 10 Major Features Working:"
say "  1. Variables and Output"
say "  2. Arithmetic Operations"
say "  3. Comparison Operators"
say "  4. Conditional Logic"
say "  5. Loops"
say "  6. Random Numbers"
say "  7. Inventory System"
say "  8. Timer Functions"
say "  9. Function Definitions"
say "  10. Save/Load System"
say ""
say "Quill is ready for launch!"
say ""
